<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Forum BarBar — Forum Diskusi Orang BarBar</title>
  <meta name="description" content="Platform umum untuk siswa berdiskusi tentang mata pelajaran dan tugas." />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="landingScreen">
    <div class="landing-content">
      <img src="https://res.cloudinary.com/dgzufaone/image/upload/v1761143718/Gemini_Generated_Image_hbfzexhbfzexhbfz-modified_rcnbja.png" alt="Logo Forum BarBar" style="width: 64px; height: 64px; object-fit: cover; border-radius: 50%;">
      <h1>Selamat Datang!</h1>
      <p>Platform Forum Diskusi Untuk Orang BarBar,BarBar Singkatan Dari Belajar Bareng Forum ini hanya untuk diskusi tidak ada unsur negatif dalam forum website ini:v.</p>
      <button id="enterBtn" class="btn">Masuk ke Forum</button>
    </div>
  </div>
  <div id="sidebarBackdrop" class="sidebar-backdrop"></div>
  
  <aside class="sidebar" id="sidebarMenu" aria-label="Sidebar">
    
    <div class="sidebar-header">
      <p class="subtitle" style="margin:0; font-weight: 600;">Menu Navigasi</p>
      <button id="sidebarCloseBtn" class="btn ghost icon-btn close-btn" title="Tutup Menu" aria-label="Tutup Menu">&times;</button>
    </div>

    <div class="filter-group" aria-hidden="false">
      <h3>Kategori</h3>
      <div class="cat-list" id="categoryList"></div>
    </div>

    <div class="filter-group">
      <h3>Tag populer</h3>
      <div id="popularTags" class="tags-list" aria-live="polite"></div>
    </div>

    <div class="theme-toggle">
      <div class="muted">Mode</div>
      <div>
        <button id="themeBtn" class="btn ghost" aria-pressed="false">Mode Gelap</button>
      </div>
    </div>
    
  </aside>

  <header class="app-header">
    <button id="hamburgerBtn" class="btn ghost icon-btn" title="Buka Menu" aria-label="Buka Menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    <div class="brand">
      <img src="https://res.cloudinary.com/dgzufaone/image/upload/v1761143718/Gemini_Generated_Image_hbfzexhbfzexhbfz-modified_rcnbja.png" alt="Logo" class="logo" style="background: none; object-fit: cover;">
      <div>
        <h1 class="title">Forum BarBar</h1>
      </div>
    </div>
  </header>

  <div class="container" id="app">
    <main class="main">
      <section class="card compose" aria-labelledby="composeTitle">
        <h2 id="composeTitle">Buat Pertanyaan / Topik Baru</h2>
        <form id="composeForm" onsubmit="return false;">
          <input name="title" class="input" placeholder="Judul: Contoh — Soal kinematics kelas 10..." required aria-label="Judul Topik"/>
          <textarea name="body" placeholder="Jelaskan detail pertanyaan atau topik..." required aria-label="Isi Topik"></textarea>
          <div class="row">
            <select name="category" class="input" aria-label="Kategori">
              <option value="Matematika">Matematika</option>
              <option value="Sains">Sains</option>
              <option value="Bahasa">Bahasa</option>
              <option value="Sejarah">Sejarah</option>
              <option value="Lainnya">Lainnya</option>
            </select>
            <input name="tags" class="input" placeholder="Tags (pisahkan koma). cth: fisika, integral" aria-label="Tags Topik"/>
            <button id="submitPost" class="btn" type="submit">Posting</button>
          </div>
        </form>
      </section>

      <section class="card" aria-labelledby="browseTitle">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
          <h2 id="browseTitle" style="margin:0">Topik & Pertanyaan</h2>
          <div class="muted" id="postCount">0 topik</div>
        </div>

        <div class="searchbar">
          <input id="searchInput" placeholder="Cari judul, isi, atau tag..." aria-label="Cari topik" />
          <select id="sortSelect" class="input">
            <option value="new">Terbaru</option>
            <option value="old">Terlama</option>
          </select>
        </div>

        <div class="posts" id="postsContainer" aria-live="polite">
          <div class="post card">
            <div class="muted">Memuat topik dari database...</div>
          </div>
        </div>

        <footer class="small card" style="margin-top:12px; margin-bottom:0;">
          Forum BarBar — Belajar bareng itu asik! (Data via Supabase)
        </footer>
      </section>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
